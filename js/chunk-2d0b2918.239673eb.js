(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b2918"],{2554:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-card",{ref:"cardAction",attrs:{title:"انشاء المصانع"}},[r("form-wizard",{staticClass:"mb-3",attrs:{color:"#F8CF01",title:null,subtitle:null,shape:"square","finish-button-text":"ارسال","next-button-text":"التالي","back-button-text":"السابق"},on:{"on-complete":t.formSubmitted}},[r("tab-content",{attrs:{title:"تفاصيل المصنع","before-change":t.validationForm}},[r("validation-observer",{ref:"accountRules",attrs:{tag:"form"}},[r("b-row",[r("b-col",{staticClass:"mb-2",attrs:{cols:"12"}},[r("h5",{staticClass:"mb-0"},[t._v(" بيانات صاحب المصنع ")]),r("small",{staticClass:"text-muted"},[t._v(" من فضلك قم بادخال بيانات المصنع. ")])]),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:"الاسم","label-for":"name"}},[r("validation-provider",{attrs:{name:"الاسم",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-input",{attrs:{id:"name",state:!(a.length>0)&&null,placeholder:"اكتب الاسم"},model:{value:t.factory.name,callback:function(e){t.$set(t.factory,"name",e)},expression:"factory.name"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:"البريد الالكتروني","label-for":"email"}},[r("validation-provider",{attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-input",{attrs:{id:"email",type:"email",state:!(a.length>0)&&null,placeholder:"البريد الالكتروني"},model:{value:t.factory.email,callback:function(e){t.$set(t.factory,"email",e)},expression:"factory.email"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:"الهاتف","label-for":"phone"}},[r("validation-provider",{attrs:{name:"phone",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-input",{attrs:{id:"phone",state:!(a.length>0)&&null,placeholder:"رقم الهاتف"},model:{value:t.factory.phone,callback:function(e){t.$set(t.factory,"phone",e)},expression:"factory.phone"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"كلمة المرور","label-for":"password"}},[r("validation-provider",{attrs:{name:"Password",vid:"Password",rules:t.factoryId?"":"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-input",{attrs:{id:"password",type:"password",state:!(a.length>0)&&null,placeholder:"كلمة المرور"},model:{value:t.factory.password,callback:function(e){t.$set(t.factory,"password",e)},expression:"factory.password"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"تاكيد كلمة المرور","label-for":"c-password"}},[r("validation-provider",{attrs:{name:"Password Confirm",rules:t.factoryId?"":"required|confirmed:Password"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-input",{attrs:{id:"c-password",type:"password",state:!(a.length>0)&&null,placeholder:"تاكيد كلمة المرور"},model:{value:t.passwordCon,callback:function(e){t.passwordCon=e},expression:"passwordCon"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1)],1)],1)],1),r("tab-content",{attrs:{title:"بيانات المصنع","before-change":t.validationFormInfo}},[r("validation-observer",{ref:"infoRules",attrs:{tag:"form"}},[r("b-row",[r("b-col",{staticClass:"mb-2",attrs:{cols:"12"}},[r("h5",{staticClass:"mb-0"},[t._v(" بيانات المصنع ")]),r("small",{staticClass:"text-muted"},[t._v("استكمال البيانات وكتابة بيانات المصنع.")])]),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"الموقع االالكتروني","label-for":"website"}},[r("validation-provider",{attrs:{name:"website",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-input",{attrs:{id:"website",placeholder:"الموقع الالكتروني",state:!(a.length>0)&&null},model:{value:t.factory.website,callback:function(e){t.$set(t.factory,"website",e)},expression:"factory.website"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1),r("b-col",{attrs:{md:"3"}},[r("b-form-group",{attrs:{label:"اسم التصنيف","label-for":"category"}},[r("validation-provider",{attrs:{name:"category",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-select",{attrs:{id:"category",placeholder:"اختار التصنيف","value-field":"id","text-field":"name",options:t.categoryOption,state:!(a.length>0)&&null},model:{value:t.factory.category_id,callback:function(e){t.$set(t.factory,"category_id",e)},expression:"factory.category_id"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1),r("b-col",{attrs:{md:"3"}},[r("b-form-group",{attrs:{label:"اسم المحافظة","label-for":"country"}},[r("validation-provider",{attrs:{name:"country",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-select",{attrs:{id:"country",placeholder:"اختار المحافظة","value-field":"id","text-field":"name",options:t.countryOptions,state:!(a.length>0)&&null},on:{change:t.changeGov},model:{value:t.factory.country_id,callback:function(e){t.$set(t.factory,"country_id",e)},expression:"factory.country_id"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1),r("b-col",{attrs:{md:"3"}},[r("b-form-group",{attrs:{label:"اسم المدينة","label-for":"city"}},[r("validation-provider",{attrs:{name:"city",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-select",{attrs:{id:"city",placeholder:"اختار المدينة","value-field":"id","text-field":"name",options:t.cityOptions,state:!(a.length>0)&&null},model:{value:t.factory.city_id,callback:function(e){t.$set(t.factory,"city_id",e)},expression:"factory.city_id"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:"رقم الهاتف المباشر","label-for":"landline_number"}},[r("validation-provider",{attrs:{name:"landline_number",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-input",{attrs:{id:"landline_number",state:!(a.length>0)&&null,placeholder:"رقم الهاتف المباشر"},model:{value:t.factory.landline_number,callback:function(e){t.$set(t.factory,"landline_number",e)},expression:"factory.landline_number"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:"اسم الموظف المباشر","label-for":"direct_employee_name"}},[r("validation-provider",{attrs:{name:"direct_employee_name",rules:t.factoryId?"":"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-input",{attrs:{id:"direct_employee_name",placeholder:"اسم الموظف المباشر",state:!(a.length>0)&&null},model:{value:t.factory.direct_employee_name,callback:function(e){t.$set(t.factory,"direct_employee_name",e)},expression:"factory.direct_employee_name"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:"رقم هاتف الموظف المباشر","label-for":"direct_employee_phone"}},[r("validation-provider",{attrs:{name:"direct_employee_phone",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-input",{attrs:{id:"direct_employee_phone",placeholder:"رقم هاتف الموظف المباشر",state:!(a.length>0)&&null},model:{value:t.factory.direct_employee_number,callback:function(e){t.$set(t.factory,"direct_employee_number",e)},expression:"factory.direct_employee_number"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"سجل المصنع","label-for":"factory_register"}},[r("validation-provider",{attrs:{name:"factory_register",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-input",{attrs:{id:"factory_register",state:!(a.length>0)&&null,placeholder:"سجل المصنع"},model:{value:t.factory.factory_register,callback:function(e){t.$set(t.factory,"factory_register",e)},expression:"factory.factory_register"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"صورة سجل المصنع","label-for":"factory_register_image"}},[r("validation-provider",{attrs:{name:"factory_register_image",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-file",{attrs:{id:"factory_register_image",type:"image",state:!(a.length>0)&&null,placeholder:"صورة سجل المصنع"},on:{change:t.fileFactory},model:{value:t.factory.factory_register_image,callback:function(e){t.$set(t.factory,"factory_register_image",e)},expression:"factory.factory_register_image"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"صورة سجل المصنع","label-for":"letter_image"}},[r("validation-provider",{attrs:{name:"letter_image",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-file",{attrs:{id:"letter_image",state:!(a.length>0)&&null,placeholder:"صورة خطاب المصنع"},on:{change:t.fileLetter},model:{value:t.factory.letter_image,callback:function(e){t.$set(t.factory,"letter_image",e)},expression:"factory.letter_image"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"العنوان","label-for":"address"}},[r("validation-provider",{attrs:{name:"address",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-input",{attrs:{id:"address",state:!(a.length>0)&&null,placeholder:"العنوان"},model:{value:t.factory.address,callback:function(e){t.$set(t.factory,"address",e)},expression:"factory.address"}}),r("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1)],1)],1)],1)],1)],1)],1)},o=[],s=(r("159b"),r("b64b"),r("d3b7"),r("2ee4")),l=r("7bb1"),n=r("223c"),i=(r("da93"),r("205f")),c=r("c43f"),d=r("a15b"),u=r("b28b"),f=r("8226"),m=r("4797"),p=r("8361"),b=r("8f03"),y={ar:{names:{email:"البريد الاليكتروني",phone:"رقم الهاتف",Password:"كلمة السر","Password Confirm":"تاكيد كلمة المرور",website:"الموقع الالكتروني",country:"المحافظة",landline_number:"الرقم المباشر",direct_employee_name:"اسم الموظف المباشر",direct_employee_phone:"رقم هاتف الموظف المباشر",factory_register:"سجل المصنع",factory_register_image:"صورة سجل المصنع",letter_image:"صورة الخطاب",address:"العنوان",category:"التصنيف"}}};Object(l["d"])("ar",y.ar);var _={name:"CreateFactory",components:{ValidationProvider:l["b"],ValidationObserver:l["a"],FormWizard:s["FormWizard"],BCard:i["a"],BFormFile:c["a"],TabContent:s["TabContent"],BRow:d["a"],BCol:u["a"],BFormGroup:f["a"],BFormInput:m["a"],BFormSelect:p["a"],ToastificationContent:n["a"]},data:function(){return{factory_file:null,letter_file:null,countryOptions:[],cityOptions:[],categoryOption:[],passwordCon:"",factory:{name:"",email:"",phone:"",country:"",city:"",category_id:"1",password:"",lat:"0.745",lng:"0.54",website:"",landline_number:"",direct_employee_name:"",direct_employee_number:"",factory_register:"",factory_register_image:null,letter_image:null,address:""},required:b["c"],email:b["a"],locale:"ar"}},computed:{factoryId:function(){return this.$route.params.id?this.$route.params.id:null}},created:function(){var t=this;this.$store.dispatch("common/FETCH_GOV").then((function(e){t.countryOptions=e.data.data.governorates})),this.$store.dispatch("categories/fetch").then((function(e){t.categoryOption=e.data.data})),this.factoryId&&this.getFactory()},methods:{fileFactory:function(t){this.factory_file=t.target.files[0]},fileLetter:function(t){this.letter_file=t.target.files[0]},changeGov:function(t){var e=this;this.$store.dispatch("common/FETCH_CITY",t).then((function(t){e.cityOptions=t.data.data.cities}))},formSubmitted:function(){var t=this,e=new FormData;Object.keys(this.factory).forEach((function(r){return e.append(r,t.factory[r])})),this.factoryId?(e.append("user_id",this.factory.user.id),this.$store.dispatch("factory/update",e).then((function(){t.$toast({component:n["a"],props:{title:"تم تعديل المصنع بنجاح",icon:"EditIcon",variant:"success"}})}))):this.$store.dispatch("factory/store",e).then((function(){t.$toast({component:n["a"],props:{title:"تم إضافة المصنع بنجاح",icon:"EditIcon",variant:"success"}})}))},validationForm:function(){var t=this;return new Promise((function(e,r){t.$refs.accountRules.validate().then((function(t){t?e(!0):r()}))}))},validationFormInfo:function(){var t=this;return new Promise((function(e,r){t.$refs.infoRules.validate().then((function(t){t?e(!0):r()}))}))},getFactory:function(){var t=this;this.$store.dispatch("factory/fetchByID",this.factoryId).then((function(e){t.factory=e.data.data;var r=e.data.data.factory;for(var a in r)t.factory[a]=r[a];t.$store.dispatch("common/FETCH_CITY",e.data.data.governorate.id).then((function(e){t.cityOptions=e.data.data.cities}))}))}}},v=_,g=r("2877"),h=Object(g["a"])(v,a,o,!1,null,"66c43ace",null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d0b2918.239673eb.js.map